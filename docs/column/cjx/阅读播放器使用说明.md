# 阅读文章悬浮播放器使用说明

## 功能概述

新增的"阅读文章"悬浮播放器是一个独立的音频播放组件，用于播放文章的朗读录音。

## 主要特性

### 🎯 悬浮设计
- **固定位置** - 右下角悬浮按钮，不影响页面内容
- **展开面板** - 点击按钮展开详细控制面板
- **响应式** - 自动适配手机端和桌面端

### 🎵 音频功能
- **独立播放** - 使用独立的音频文件 `reading-article.mp3`
- **完整控制** - 播放/暂停、进度跳转、时间显示
- **状态指示** - 实时显示播放状态和进度

### 🔄 互斥播放
- **智能切换** - 与主音频播放器互斥，一个播放时另一个自动暂停
- **状态同步** - 实时同步两个播放器的状态
- **无冲突** - 避免两个音频同时播放造成混乱

## 使用方法

### 1. 准备音频文件
```
将朗读录音文件放置到：docs/public/audio/reading-article.mp3
```

### 2. 基本操作
1. **打开控制面板** - 点击右下角的书本图标
2. **开始播放** - 点击蓝色播放按钮
3. **进度控制** - 点击进度条跳转到指定位置
4. **关闭面板** - 点击右上角的 X 或再次点击悬浮按钮

### 3. 状态指示
- **绿色圆点** - 播放器就绪
- **脉冲动画** - 正在播放中
- **进度条** - 显示播放进度
- **时间显示** - 当前时间/总时长

## 技术实现

### 组件结构
- **ReadingPlayer.vue** - 悬浮播放器组件
- **Cjx.vue** - 主播放器（已更新支持互斥）

### 互斥机制
```javascript
// 主播放器开始播放时
if (readingPlayerPlaying.value) {
  readingPlayerPlaying.value = false; // 暂停阅读播放器
}

// 阅读播放器开始播放时
emit('playingStateChanged', true); // 通知主播放器暂停
```

### 响应式设计
- **桌面端** - 完整的控制面板
- **手机端** - 自动调整尺寸和位置
- **触摸优化** - 适合触摸操作的按钮大小

## 样式特点

### 视觉设计
- **现代风格** - 圆角、阴影、渐变效果
- **蓝色主题** - 与主播放器的黑色主题形成对比
- **动画效果** - 平滑的展开/收起动画

### 状态反馈
- **悬停效果** - 按钮悬停时的颜色变化
- **点击反馈** - 按钮点击时的缩放效果
- **加载状态** - 音频加载时的提示信息

## 注意事项

1. **音频文件** - 确保 `reading-article.mp3` 文件存在且可访问
2. **浏览器兼容** - 需要支持 HTML5 Audio API
3. **用户交互** - 现代浏览器需要用户交互后才能播放音频
4. **文件大小** - 建议音频文件不超过 20MB

## 故障排除

### 常见问题
- **无法播放** - 检查音频文件路径和格式
- **按钮不显示** - 确认组件正确导入和注册
- **互斥失效** - 检查事件监听是否正常

### 调试方法
- 打开浏览器开发者工具查看控制台错误
- 检查网络面板确认音频文件加载状态
- 验证组件间的事件通信
